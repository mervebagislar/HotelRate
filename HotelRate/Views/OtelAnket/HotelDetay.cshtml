@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Tuple<HotelRate2.Models.Otel, List<HotelRate2.Models.Soru>>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- ======= Page Header ======= -->
<div class="page-header d-flex align-items-center">
    <div class="container position-relative">
        <div class="row d-flex justify-content-center">
            <div class="col-lg-6 text-center">
                <h2>@Model.Item1.OtelAdi</h2>
                <p>
                    Merhaba HotelRate'e hoş geldiniz...
                    @Model.Item1.OtelAdi'da konaklama deneyimlerinizi aşağıdaki anket sorularını
                    cevaplayarak oteli değerlendirebilirsiniz.
                </p>
                <a class="cta-btn" href="#survey">Hemen Başla</a>
            </div>
        </div>
    </div>
</div>

<!-- ======= Hotel Website ======= -->
<div class="card bg-success text-white m-5">
    <div class="card-body text-center">
        <a href="https://www.bandirmapalas.com/" target="_blank" class="text-white text-decoration-none">
            <h5 class="card-title">
                @Model.Item1.OtelAdi SAYFASINA GİTMEK İÇİN TIKLAYINIZ
            </h5>
            <p class="card-text">Buradan daha fazla bilgi alabilirsiniz.</p>
        </a>
    </div>
</div>

<!-- ======= Gallery Section ======= -->
<section id="gallery-single" class="gallery-single">
    <div class="container">
        <div class="position-relative h-100 p-3">
            <div class="portfolio-details-slider swiper">
                <div class="swiper-wrapper">

                    @if (Model.Item1.OtelResimleri != null && Model.Item1.OtelResimleri.Any())
                    {
                        foreach (var resim in Model.Item1.OtelResimleri)
                        {
                            <div class="swiper-slide">
                                <img src="/img/gallery/@resim.OtelResimYolu"
                                     class="img-fluid"
                                     alt="@Model.Item1.OtelAdi" />
                            </div>
                        }
                    }
                    else
                    {
                        <div class="swiper-slide text-center">
                            <p>Resim bulunamadı</p>
                        </div>
                    }

                </div>

                <!-- Swiper controls -->
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>
</section>

<!-- ======= Survey Form ======= -->
<form id="survey" class="px-4" method="post" asp-action="HotelDetay" asp-route-id="@Model.Item1.OtelId">

    <input type="hidden" name="OtelId" value="@Model.Item1.OtelId" />

    @for (int i = 0; i < Model.Item2.Count; i++)
    {
        <div class="mx-0 mx-sm-auto mb-4">
            <div class="card">
                <div class="card-body">

                    <p><strong>Soru @(i + 1)</strong></p>
                    <p>@Model.Item2[i].SoruMetni</p>

                    <input type="hidden" name="Sorular[@i].SoruId" value="@Model.Item2[i].SoruId" />

                    <hr />
                    <p><strong>Yanıtınız</strong></p>

                    @for (int puan = 5; puan >= 1; puan--)
                    {
                        <div class="form-check mb-2">
                            <input class="form-check-input"
                                   type="radio"
                                   name="SoruId_@Model.Item2[i].SoruId"
                                   value="@puan"
                                   required />
                            <label class="form-check-label">
                                @(puan == 5 ? "Mükemmel" :
                                    puan == 4 ? "İyi" :
                                    puan == 3 ? "Orta" :
                                    puan == 2 ? "Yetersiz" : "Çok Kötü")
                            </label>
                        </div>
                    }

                </div>
            </div>
        </div>
    }

    <button type="submit" class="btn btn-success col-lg-12 p-3">
        Anketi Kaydet
    </button>
</form>
